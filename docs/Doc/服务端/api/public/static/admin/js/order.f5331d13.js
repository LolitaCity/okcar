(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"22b6":function(t,e,a){},3050:function(t,e,a){"use strict";var o=a("ae5c"),i=a.n(o);i.a},4498:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-frame",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"card card-default"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-desc"},[t._v("金融方案")]),a("div",{staticClass:"card-btns"},[a("el-button",{attrs:{size:"medium",type:"primary",plain:""},on:{click:t.onAddClick}},[a("i",{staticClass:"fa fa-fw fa-plus"}),t._v(" 添加方案\n                        ")])],1)]),a("div",{staticClass:"card-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"mode",label:"名称"}}),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),a("el-table-column",{attrs:{prop:"type_desc",label:"类型",width:"150"}}),a("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-links"},[a("a",{attrs:{href:"javascript:"},on:{click:function(a){t.onEdit(e.row)}}},[a("i",{staticClass:"fa fa-fw fa-edit"}),t._v("编辑")]),a("a",{attrs:{href:"javascript:"},on:{click:function(a){t.onDelete(e.row)}}},[a("i",{staticClass:"fa fa-fw fa-times"}),t._v("删除")])])}}])})],1)],1)])])]),a("pListAddDialog",{ref:"addDialog"})],1)},i=[],n=(a("cadf"),a("551c"),a("097d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:t.edit?"编辑金融方案":"添加金融方案",visible:t.open,width:"500px","before-close":t.onClose}},[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"90px",size:"small"}},[a("el-form-item",{attrs:{label:"方案名称",prop:"name"}},[a("el-input",{on:{change:t.refreshPinyin},model:{value:t.form.mode,callback:function(e){t.$set(t.form,"mode",e)},expression:"form.mode"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("el-form-item",{staticClass:"paymode-radio",attrs:{label:"类型",prop:"type"}},[a("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[a("el-radio",{attrs:{label:0}},[t._v("全款")]),a("el-radio",{attrs:{label:1}},[t._v("贷款")])],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.open=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)}),l=[],r=(a("7f7f"),a("2ef0")),s=a.n(r),c={data:function(){return{open:!1,edit:!1,form:{id:"",mode:"",description:"",type:0},callback:null}},mounted:function(){var t=this;a.e("pinyin").then(function(){t.$pinyin=a("9804")}.bind(null,a)).catch(a.oe)},methods:{showDialog:function(t){var e=t.onSuccess,a=t.paymode;this.open=!0,this.edit=!!a,this.form=a?s.a.pick(a,["id","mode","description","type"]):{id:"",mode:"",description:"",type:0},this.callback=e},onClose:function(){this.open=!1},refreshPinyin:function(){this.form.pinyin=this.$pinyin.toPinYin(this.form.name)},handleAvatarSuccess:function(t){this.form.logo=s.a.get(t,"data.url","")},onSubmit:function(){var t=this;this.$refs["form"].validate(function(e){e&&t.$store.dispatch(t.edit?"paymodeEdit":"paymodeAdd",{data:t.form,success:function(){s.a.isFunction(t.callback)&&(t.open=!1,t.callback())},error:function(e){t.alert(e)}})})}}},d=c,u=(a("3050"),a("2877")),p=Object(u["a"])(d,n,l,!1,null,null,null);p.options.__file="list-add-dialog.vue";var f=p.exports,m={data:function(){return{loading:!0,list:[],paymodeList:["全款","贷款"]}},components:{pListAddDialog:f},mounted:function(){this.refresh()},methods:{refresh:function(){var t=this;this.loading=!0,this.$store.dispatch("paymodeList",{success:function(e){t.list=e.map(function(e){var a=parseInt(e.type)?1:0;return e.type_desc=t.paymodeList[a],e}),t.loading=!1},error:function(e){t.alert(e),t.loading=!1}})},onAddClick:function(){var t=this;this.$refs["addDialog"].showDialog({onSuccess:function(){t.refresh()}})},remove:function(t){var e=this;this.$store.dispatch("paymodeDelete",{data:{id:t},success:function(){e.refresh()},error:function(t){e.alert(t)}})},onEdit:function(t){var e=this;this.$refs["addDialog"].showDialog({paymode:t,onSuccess:function(){e.refresh()}})},onDelete:function(t){var e=this;this.confirm("确认要删除[".concat(t.mode,"]吗？"),function(){e.remove(t.id)})}}},h=m,b=(a("ea57"),Object(u["a"])(h,o,i,!1,null,"ef1e7c22",null));b.options.__file="list.vue";e["default"]=b.exports},5100:function(t,e,a){},"9fef":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("l-frame",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xl-12"},[a("div",{staticClass:"card card-default"},[a("div",{staticClass:"card-header"},[a("h4",{staticClass:"card-desc"},[t._v("所有订单")]),a("div",{staticClass:"card-btns"},[a("el-input",{staticStyle:{width:"350px"},attrs:{placeholder:"搜索关键字（手机号，姓名，公司名称，车型）","prefix-icon":"el-icon-search",size:"medium"},on:{change:t.onKeywordChange,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onKeywordChange(e):null}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)]),a("div",{staticClass:"card-body"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),a("el-table-column",{attrs:{prop:"model_info.series",label:"车系"}}),a("el-table-column",{attrs:{width:"150",prop:"model_info.model",label:"车型"}}),a("el-table-column",{attrs:{prop:"public.appearance",label:"外观"}}),a("el-table-column",{attrs:{prop:"public_info.decoration",label:"内饰"}}),a("el-table-column",{attrs:{prop:"model_info.rule_desc",label:"车规"}}),a("el-table-column",{attrs:{prop:"public_info.source_desc",label:"车源所在地"}}),a("el-table-column",{attrs:{prop:"public_info.comment",width:"200",label:"商家备注"}}),a("el-table-column",{attrs:{prop:"public_info.sale_price_desc",label:"价格（万）"}}),a("el-table-column",{attrs:{prop:"quantity",label:"数量"}}),a("el-table-column",{attrs:{prop:"user.name",label:"买家姓名"}}),a("el-table-column",{attrs:{prop:"user.phone",label:"买家电话"}}),a("el-table-column",{attrs:{prop:"user.company_name",label:"买家公司"}}),a("el-table-column",{attrs:{prop:"saler_info.name",label:"卖家姓名"}}),a("el-table-column",{attrs:{prop:"saler_info.phone",label:"卖家电话"}}),a("el-table-column",{attrs:{prop:"saler_info.company_name",label:"卖家公司"}}),a("el-table-column",{attrs:{prop:"address",label:"收货城市"}}),a("el-table-column",{attrs:{prop:"pay_mode.mode",label:"金融方案"}}),a("el-table-column",{attrs:{prop:"comment",label:"订单备注"}}),a("el-table-column",{attrs:{prop:"public_info.type_desc",label:"是否代营"}}),a("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}})],1),a("el-pagination",{attrs:{"current-page":t.pagination.currentPage,"page-size":t.pagination.pageSize,layout:"total, prev, pager, next, jumper",total:t.pagination.total},on:{"current-change":t.handleCurrentChange}})],1)])])])])},i=[],n=(a("cadf"),a("551c"),a("097d"),{data:function(){return{loading:!0,list:[],pagination:{total:0,currentPage:1},page:1,keyword:""}},mounted:function(){this.refresh()},methods:{handleCurrentChange:function(t){this.page=t,this.refresh()},onKeywordChange:function(){this.page=1,this.refresh()},refresh:function(){var t=this;this.loading=!0,this.$store.dispatch("orderList",{data:{page:this.page,keyword:this.keyword},success:function(e){var a=e.data.map(function(t){return t});t.list=a,t.pagination.currentPage=e.current_page,t.pagination.total=e.total,t.pagination.pageSize=e.per_page,t.loading=!1},error:function(e){t.alert(e),t.loading=!1}})},onAddClick:function(){var t=this;this.$refs["addDialog"].showDialog({onSuccess:function(){t.refresh()}})},remove:function(t){var e=this;this.$store.dispatch("carDelete",{data:{id:t},success:function(){e.refresh()},error:function(t){e.alert(t)}})},onEdit:function(t){var e=this;this.$refs["addDialog"].showDialog({car:t,onSuccess:function(){e.refresh()}})},onDelete:function(t){var e=this;this.confirm("确认要删除[".concat(t.model,"]吗？"),function(){e.remove(t.id)})}}}),l=n,r=(a("c9a1"),a("2877")),s=Object(r["a"])(l,o,i,!1,null,"e16170d6",null);s.options.__file="list.vue";e["default"]=s.exports},ae5c:function(t,e,a){},c9a1:function(t,e,a){"use strict";var o=a("5100"),i=a.n(o);i.a},ea57:function(t,e,a){"use strict";var o=a("22b6"),i=a.n(o);i.a}}]);
//# sourceMappingURL=order.f5331d13.js.map